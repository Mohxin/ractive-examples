<!doctype html>
<html>
<head>
	<link href='https://fonts.googleapis.com/css?family=Voltaire' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" href="style.css">
	
	<!-- JQuery -->
	<script src="libs/jquery-3.3.1.min.js"></script>
	<!-- Ractive -->
	<script src='libs/ractive.min.js'></script>
	
	<!-- Ace Stuff -->
	<script src='https://cdnjs.cloudflare.com/ajax/libs/ace/1.2.9/ace.js'></script>
	<script src='https://cdn.rawgit.com/dagnelies/ractive-ace/master/src/ractive-ace.js'></script>
	<script src='example.js'></script>
</head>
<body id="target" style="display:flex;flex-direction:column;">
	
	<script id='template' type='text/ractive'>
		<header>	
			<h1 style="margin:0px; padding:5px;">Examples & Recipies</h1>
			<nav class="justified">
				{{#each groups}}
				<a href="#" on-click="@this.set('selected.group',@key)">{{@key}}</a> &nbsp;
				{{/each}}
			</nav>
		</header>
		<h2 style="text-align:center">{{selected.example}}</h2>
		<div style="flex:1;padding:10px;display:flex;align-items:center;">
			<div>
				<a class="round btn" style="padding: 4px 10px; margin:10px;"><b>&lt;</b></a>
			</div>
			
			<example url="{{example_url}}" style="flex:1;height:100%;"/>
			
			<a class="round btn" style="padding: 4px 10px;margin:10px;"><b>&gt;</b></a>
		</div>
		
		<p style="padding:5px; text-align:center">
			<a class="round btn" style="padding: 4px 10px;"><b>&lt;</b></a>
			{{#each groups[selected.group]}}
				<a href="#" on-click="@this.set('selected.example',@key)">{{@key}}</a> &nbsp;
			{{/each}}
			<a class="btn btn-primary">&gt;</a>
		</p>
	</script>

	<script>
		var ractive = new Ractive({
			target: '#target',
			template: '#template',
			data: {
				selected: {
					group: 'Forms',
					example: 'Nested data'
				},
				groups: {
					Forms: {
						'Nested data': 'forms/nested_data.html',
						'Simple TODO list': 'forms/TODO.html',
						'Dynamic fields': 'forms/dynamic_fields.html'
					},
					Datatable: {
						'Filtering': 'contribute.md',
						'Sorting': 'contribute.md',
						'Paging': 'contribute.md',
						'Remote filtering/sorting': 'contribute.md',
						'Subgrid': 'contribute.md',
						'Row selection': 'contribute.md',
						'Row key navigation': 'contribute.md'
					},
					Widgets: {
						'Carousel': 'widgets/carousel.html',
						'Date picker': 'widgets/date-picker.html',
						'Color picker': 'widgets/color-picker.html',
						'Multicolumn autocomplete': 'widgets/multicolumn_autocomplete.html',
						'Ace editor': 'widgets/ace-editor.html',
						'Chart': 'contribute.md',
						'Graph': 'contribute.md',
						'Google map': 'contribute.md',
						'Tag list': 'contribute.md',
						'Tooltips': 'contribute.md'
					},
					Content: {
						'Tabs': 'content/tabs.html',
						'Async content': 'content/async_content.html',
						'Model in URL hash': 'content/model_in_url_hash.html',
						'Type dependent content': 'contribute.md',
						'Async REST data': 'contribute.md'
					},
					Demos: {
						'Movies (1. basic)': 'demos/movies_1.html',
						'Movies (2. filters & infinite scroll)': 'demos/movies_2.html',
						'Movies (3. details in modal)': 'demos/movies_3.html',
						'Movies (single page app)': 'demos/movies_4.html',
						'Random user list': 'demos/user-list.html',
					}
				}
			},
			computed: {
				example_url: function() {
					var s = this.get('selected')
					if( !s || !s.example )
						return "";
					else
						return this.get('groups.' + s.group + '.' + s.example)
				}
			}
		});
	</script>
	
</body>
</html>
